# Roselia-achievements

Модуль для RenPy для интеграции достижений. Разрабатывается в рамках проекта Roselia, в котором я пишу небольшие и удобные расширения для RenPy.

* Одноразовые достижения
* Достижения с прогрессом
* Совместимость с Steam (который, для RenPy пока недоступен)
* Возможность задавать свои достижения, свою анимацию
* Архитектура построена таким образом, что легко расширяется для дополнительных функций. Например, комната с достижениями, категории достижений
* Работает на основе встроеного механизма achievement

## Как пользоваться
**ВНИМАНИЕ! УВАГА! АХТУНГ! ВОРНИНГ!**
Достижения используют постоянные данные (persistent), поэтому после каждого изменения не забывайте очищать постоянные данные.

Интегрировать систему можно в три простых шага.

* Для начала вам нужно положить файл `achievemnts.rpy` в свой проект, RenPy подключит его автоматически.
* В самом файле `achievemnts.rpy` в 97ой строке стоит добавить нужные вам достижения. Там есть два примера. Достижение должно иметь такую струтуру:

```python
{
    "name": {"type": 0, 
             "title": "",
             "text": "",
             "icon": "images/icons/ach.png"
                 },
    "name": {"type": 1,
         "title": "",
         "text": "",
         "icon": "images/icons/ach.png",
         "cur_prog": 0,
         "max_prog": 33
         }
}
``` 

А теперь разложим по полочкам. 

`name` -- индентификатор. Я рекомендую использовать короткие имена на английском. Оно используется для индентификации, пользователь его не видит

`type` -- 0 или 1, 0 -- одноразовое достижение, 1 -- с прогрессом

`title` -- Заголовок (показывается пользователю в уведомлении)
 
`text` -- Описание (показывается пользователю в уведомлении)

`icon` -- путь к иконке. Я рекомендую размер 96х96 пикселей

`cur_prog` -- только если type=1. Текущий прогресс

`max_prog` -- только если type=1. Сколько нужно что бы получить достижение

* В нужном месте сценария вызвать функцию:

`$ get_achievement(name)` -- для достижения одноразовой ачивки

`$ update_achievement(name, step=1)` -- для обновления достижения с прогрессом. `step` -- сколько нужно прибавить, по умолчанию =1

После этого вы сможете использовать базовый функционал. Для расширения же понадобится знание Python.

